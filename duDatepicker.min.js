/* -- DO NOT REMOVE --
 * jQuery duDatePicker v1.2.2 plugin
 * https://github.com/dmuy/duDatepicker
 *
 * Author: Dionlee Uy
 * Email: dionleeuy@gmail.com
 *
 * @requires jQuery
 * -- DO NOT REMOVE --
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){if(void 0===e)throw new Error("duDatePicker: This plugin requires jQuery");function a(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function t(e,a){return Math.round((a-e)/864e5)}var n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i="<span>"+o.map(function(e){return e.substr(0,2)}).join("</span><span>")+"</span>",s=[9,112,113,114,115,116,117,118,119,120,121,122,123],l=function(a,t){var n=this;n.animating=!1,n.visible=!1,n.config=t,n.input=e(a),n.fromEl=n.config.fromTarget?e(n.config.fromTarget):null,n.toEl=n.config.toTarget?e(n.config.toTarget):null,n.input.prop("hidden",n.config.range&&(n.fromEl||n.toEl)),n.viewMode="calendar",n.datepicker={container:e('<div class="dcalendarpicker"></div>'),wrapper:e('<div class="dudp__wrapper"></div>'),header:{wrapper:e('<section class="dudp__calendar-header"></section>'),selectedYear:e('<span class="dudp__sel-year"></span>'),selectedDate:e('<span class="dcp_sel-date"></span>')},calendarHolder:{wrapper:e('<section class="dudp__cal-container"></section>'),btnPrev:e('<span class="dudp__btn-cal-prev">&lsaquo;</span>'),btnNext:e('<span class="dudp__btn-cal-next">&rsaquo;</span>'),calendarViews:{wrapper:e('<div class="dudp__calendar-views"></div>'),calendars:[]},yearsView:e('<div class="dudp__years-view dp__hidden"></div>'),monthsView:e('<div class="dudp__months-view dp__hidden"></div>'),buttons:{wrapper:e('<div class="dudp__buttons"></div>'),btnClear:e('<span class="dudp__button clear">Clear</span>'),btnCancel:e('<span class="dudp__button cancel">Cancel</span>'),btnOk:e('<span class="dudp__button ok">Ok</span>')}}},n.config.value&&n.input.val(n.config.value).attr("value",n.config.value),n.minDate=n.input.data("mindate")||n.config.minDate,n.maxDate=n.input.data("maxdate")||n.config.maxDate;var r=new Date;if(n.config.range){var d=n.input.val(),o=d.split(n.config.rangeDelim);if(""!==d&&o.length<2)throw new Error("duDatePicker: Invalid date range value");var i=""===d?null:n.parseDate(o[0]).date,l=""===d?null:n.parseDate(o[1]).date;if(n.dateFrom=i,n.dateTo=l,n.rangeFrom=null,n.rangeTo=null,n.viewMonth=(i||r).getMonth(),n.viewYear=(i||r).getFullYear(),d){var c=n.config.rangeFormatter?n.config.rangeFormatter.call(n,i,l):d,p=n.formatDate(i,n.config.format),u=n.formatDate(i,n.config.outFormat||n.config.format),g=n.formatDate(l,n.config.format),m=n.formatDate(l,n.config.outFormat||n.config.format);n.input.val(c).attr("value",c).attr("data-range-from",n.formatDate(i,n.config.outFormat||n.config.format)).attr("data-range-to",n.formatDate(l,n.config.outFormat||n.config.format)),n.fromEl&&n.fromEl.val(p).attr("value",p).attr("data-value",u),n.toEl&&n.toEl.val(g).attr("value",g).attr("data-value",m)}}else n.date=""===n.input.val()?r:n.parseDate(n.input.val()).date,n.selected={year:n.date.getFullYear(),month:n.date.getMonth(),date:n.date.getDate()},n.viewMonth=n.date.getMonth(),n.viewYear=n.date.getFullYear();n.inputClick=function(){n.show()},n.inputKeydown=function(e){return 13===e.keyCode&&n.show(),!(s.indexOf(e.which)<0)},n.unbindInput=function(){n.input.removeData("_duDatepicker").off("click",n.inputClick).off("keydown",n.inputKeydown).prop("readonly",!1),n.fromEl&&n.fromEl.off("click",n.inputClick).off("keydown",n.inputKeydown).prop("readonly",!1),n.toEl&&n.toEl.off("click",n.inputClick).off("keydown",n.inputKeydown).prop("readonly",!1)},n.setupPicker(),n.setSelection()};l.prototype={constructor:l,setupPicker:function(){var a=this,t=a.datepicker,n=t.header,d=t.calendarHolder,o=d.buttons,i=a.selected?a.selected:new Date;n.wrapper.append(n.selectedYear).append(n.selectedDate).appendTo(t.wrapper);for(var s=0,l=1;l<4;l++){for(var c=e('<div class="dudp__month-row"></div>'),p=0;p<4;p++){var u=e('<span class="dudp__month"></span>');s===i.month&&u.addClass("selected"),u.text(r[s]).data("month",s).appendTo(c).on("click",function(t){var n=e(this).data("month");a.viewMonth=n,a.setupCalendar(),a.switchView("calendar")}),s++}d.monthsView.append(c)}d.yearsView.html(a.getYears()),a.config.clearBtn&&o.wrapper.append(o.btnClear),a.config.cancelBtn&&o.wrapper.append(o.btnCancel),a.config.auto&&!a.config.range||o.wrapper.append(o.btnOk),d.wrapper.append(d.btnPrev).append(d.btnNext).append(d.calendarViews.wrapper).append(d.monthsView).append(d.yearsView).append(o.wrapper).appendTo(t.wrapper),t.container.append(t.wrapper).appendTo("body"),t.wrapper.attr("data-theme",a.config.theme||e.fn.duDatepicker.defaults.theme),a.input.on("click",a.inputClick).on("keydown",a.inputKeydown).prop("readonly",!0),a.fromEl&&a.fromEl.on("click",a.inputClick).on("keydown",a.inputKeydown).prop("readonly",!0),a.toEl&&a.toEl.on("click",a.inputClick).on("keydown",a.inputKeydown).prop("readonly",!0),n.selectedYear.click(function(e){"years"!==a.viewMode&&a.switchView("years")}),n.selectedDate.click(function(e){var t=new Date,n=a.config.range?t.getMonth():a.selected.month,r=a.config.range?t.getFullYear():a.selected.year;a.viewMonth===n&&a.viewYear===r&&"calendar"===a.viewMode||(a.viewMonth=n,a.viewYear=r,a.setupCalendar(),a.switchView("calendar"))}),d.btnPrev.click(function(e){a.move("prev")}),d.btnNext.click(function(e){a.move("next")}),d.calendarViews.wrapper.on("click",".dudp__cal-month-year",function(e){"months"!==a.viewMode&&a.switchView("months")}),a.config.clearBtn&&o.btnClear.click(function(){if(a.config.range)a.dateFrom=null,a.dateTo=null,a.input.val("").attr("value","").attr("data-range-from",null).attr("data-range-to",null),a.triggerChange(e.Event("datechanged",{_dateFrom:null,_dateTo:null,dateFrom:null,dateTo:null,value:""}));else{var t=new Date;a.date=t,a.input.val("").attr("value",""),a.triggerChange(e.Event("datechanged",{_date:null,date:null}))}a.hide()}),a.config.overlayClose&&(t.container.click(function(e){a.hide()}),t.wrapper.click(function(e){e.stopPropagation()})),a.config.cancelBtn&&o.btnCancel.click(function(){a.hide()}),o.btnOk.click(function(){if(a.config.range){if(!a.rangeFrom||!a.rangeTo)return;var e=new Date(a.rangeFrom.year,a.rangeFrom.month,a.rangeFrom.date),t=new Date(a.rangeTo.year,a.rangeTo.month,a.rangeTo.date);if(a.disabledDate(e)||a.disabledDate(t))return;a.dateFrom=e,a.dateTo=t,a.setValue([a.formatDate(e,a.config.format),a.formatDate(t,a.config.format)].join(a.config.rangeDelim))}else{var n=new Date(a.selected.year,a.selected.month,a.selected.date);if(a.disabledDate(n))return;a.date=n,a.setValue(a.date)}a.hide()})},inRange:function(e){if(!this.config.range)return!1;var a=this,t=a.rangeFrom?new Date(a.rangeFrom.year,a.rangeFrom.month,a.rangeFrom.date):null,n=a.rangeTo?new Date(a.rangeTo.year,a.rangeTo.month,a.rangeTo.date):null;return t&&e>t&&n&&e<n},disabledDate:function(e){var a=this,t=null,n=null,r=new Date,i=new Date(r.getFullYear(),r.getMonth(),r.getDate()),s=a.config.disabledDates,l=a.config.disabledDays,c=s.filter(function(t){return t.indexOf("-")>=0?e>=a.parseDate(t.split("-")[0]).date&&e<=a.parseDate(t.split("-")[1]).date:a.parseDate(t).date.getTime()===e.getTime()}).length>0,p=l.indexOf(d[e.getDay()])>=0||l.indexOf(o[e.getDay()])>=0||l.indexOf(o.map(function(e){return e.substr(0,2)})[e.getDay()])>=0;return a.minDate&&(t="today"===a.minDate?i:new Date(a.minDate)),a.maxDate&&(n="today"===a.maxDate?i:new Date(a.maxDate)),t&&e<t||n&&e>n||c||p},getDates:function(n,r){for(var d=this,o=1,i=new Date,s=new Date(i.getFullYear(),i.getMonth(),i.getDate()),l=d.config.range?null:new Date(d.selected.year,d.selected.month,d.selected.date),c=d.rangeFrom?new Date(d.rangeFrom.year,d.rangeFrom.month,d.rangeFrom.date):null,p=d.rangeTo?new Date(d.rangeTo.year,d.rangeTo.month,d.rangeTo.date):null,u=new Date(n,r,o),g=a(u),m=1,f=[],v=1;v<=6;v++){for(var h=[e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>')];o<=g;){u.setDate(o);var w=u.getDay();if(h[w].data("date",o).data("month",r).data("year",n),u.getTime()===s.getTime()&&h[w].addClass("current").attr("title","Today"),d.disabledDate(u)&&h[w].addClass("disabled"),d.inRange(u)&&h[w].addClass("in-range"),1===v&&0===w)break;if(!(w<6)){d.config.range||u.getTime()!==l.getTime()||h[w].addClass("selected"),d.config.range&&c&&u.getTime()===c.getTime()&&h[w].addClass("range-from"),d.config.range&&p&&u.getTime()===p.getTime()&&h[w].addClass("range-to"),h[w].text(o++);break}d.config.range||u.getTime()!==l.getTime()||h[w].addClass("selected"),d.config.range&&c&&u.getTime()===c.getTime()&&h[w].addClass("range-from"),d.config.range&&p&&u.getTime()===p.getTime()&&h[w].addClass("range-to"),h[w].text(o++)}if(1===v||v>4)if(1===v)for(var _=new Date(n,r-1,1),y=a(_),D=6;D>=0;D--)""===h[D].text()&&(h[D].data("date",y).data("month",r-1).data("year",n),_.setDate(y),h[D].text(y--).addClass("dudp__pm"),d.disabledDate(_)&&h[D].addClass("disabled"),d.inRange(_)&&h[D].addClass("in-range"),_.getTime()===s.getTime()&&h[D].addClass("current").attr("title","Today"),d.config.range||_.getTime()!==l.getTime()||h[D].addClass("selected"),d.config.range&&c&&_.getTime()===c.getTime()&&h[D].addClass("range-from"),d.config.range&&p&&_.getTime()===p.getTime()&&h[D].addClass("range-to"));else if(v>4){var T=new Date(n,r+1,1);for(D=0;D<=6;D++)""===h[D].text()&&(h[D].data("date",m).data("month",r+1).data("year",n),T.setDate(m),h[D].text(m++).addClass("dudp__nm"),d.disabledDate(T)&&h[D].addClass("disabled"),d.inRange(T)&&h[D].addClass("in-range"),T.getTime()===s.getTime()&&h[D].addClass("current").attr("title","Today"),d.config.range||T.getTime()!==l.getTime()||h[D].addClass("selected"),d.config.range&&c&&T.getTime()===c.getTime()&&h[D].addClass("range-from"),d.config.range&&p&&T.getTime()===p.getTime()&&h[D].addClass("range-to"))}f.push(h)}var C=[];return e.each(f,function(a,n){for(var r=e('<div class="dudp__cal-week"></div>'),o=0;o<n.length;o++){var i=n[o];i.click(function(a){var n=e(this),r=n.data("year"),o=n.data("month"),i=n.data("date"),s=new Date(r,o,i),l=!1;if(!d.disabledDate(s)){if(d.config.range){var c=d.rangeFrom?new Date(d.rangeFrom.year,d.rangeFrom.month,d.rangeFrom.date):null,p=d.rangeTo?new Date(d.rangeTo.year,d.rangeTo.month,d.rangeTo.date):null;!d.rangeFrom||d.rangeFrom&&s<c||d.rangeFrom&&d.rangeTo&&t(c,s)<=t(s,p)&&0!==t(c,s)||d.rangeFrom&&d.rangeTo&&p.getTime()===s.getTime()?(d.rangeFrom={year:r,month:o,date:i},l=!0):(!d.rangeTo||d.rangeTo&&s>p||d.rangeFrom&&d.rangeTo&&t(s,p)<t(c,s)&&0!==t(s,p)||d.rangeFrom&&d.rangeTo&&c.getTime()===s.getTime())&&(d.rangeTo={year:r,month:o,date:i},l=!1),n.parents(".dudp__calendar-views").find(".dudp__date").each(function(a,t){var n=e(t),s=n.data("year"),c=n.data("month"),p=n.data("date"),u=d.inRange(new Date(s,c,p));n[r===s&&o===c&&i===p?"addClass":"removeClass"](l?"range-from":"range-to"),u?n.addClass("in-range"):n.removeClass("in-range")})}else n.parents(".dudp__calendar-views").find(".dudp__date").each(function(a,t){var n=e(t).data("year"),d=e(t).data("month"),s=e(t).data("date");e(t)[r===n&&o===d&&i===s?"addClass":"removeClass"]("selected")}),d.selected={year:r,month:o,date:i},d.setSelection(),d.config.auto&&(d.date=s,d.setValue(d.date),d.hide());n.parents(".dudp__cal-container").find(".dudp__month").each(function(a,t){var n=e(t).data("month");e(t)[n===o?"addClass":"removeClass"]("selected")})}}),r.append(i)}C.push(r)}),C},getYears:function(){for(var a=this,t=a.viewYear-50,n=a.viewYear+50,r=[],d=t;d<=n;d++){var o=e('<span class="dudp__year"></span>');d===a.viewYear&&o.addClass("selected"),o.text(d).data("year",d).on("click",function(t){var n=e(this).data("year");a.viewYear=n,a.config.range||(a.selected.year=n),a.setSelection(),a.setupCalendar(),a.switchView("calendar")}),r.push(o)}return r},setupCalendar:function(){var a=this,t=a.datepicker.calendarHolder.calendarViews,n=a.viewYear,r=a.viewMonth;t.calendars.length=0;var d={wrapper:e('<div class="dudp__calendar"></div>'),header:e('<div class="dudp__cal-month-year"></div>'),weekDays:e('<div class="dudp__weekdays">'+i+"</div>"),datesHolder:e('<div class="dudp__dates-holder"></div>')},o={wrapper:e('<div class="dudp__calendar"></div>'),header:e('<div class="dudp__cal-month-year"></div>'),weekDays:e('<div class="dudp__weekdays">'+i+"</div>"),datesHolder:e('<div class="dudp__dates-holder"></div>')},s={wrapper:e('<div class="dudp__calendar"></div>'),header:e('<div class="dudp__cal-month-year"></div>'),weekDays:e('<div class="dudp__weekdays">'+i+"</div>"),datesHolder:e('<div class="dudp__dates-holder"></div>')};o.header.text(a.formatDate(new Date(n,r-1,1),"mmmm yyyy")).appendTo(o.wrapper),o.wrapper.append(o.weekDays),o.datesHolder.html(a.getDates(n,r-1)).appendTo(o.wrapper),t.calendars.push(o),d.header.text(a.formatDate(new Date(n,r,1),"mmmm yyyy")).appendTo(d.wrapper),d.wrapper.append(d.weekDays),d.datesHolder.html(a.getDates(n,r)).appendTo(d.wrapper),t.calendars.push(d),s.header.text(a.formatDate(new Date(n,r+1,1),"mmmm yyyy")).appendTo(s.wrapper),s.wrapper.append(s.weekDays),s.datesHolder.html(a.getDates(n,r+1)).appendTo(s.wrapper),t.calendars.push(s),t.wrapper.empty().append(o.wrapper).append(d.wrapper).append(s.wrapper)},move:function(a){if(("next"===a||"prev"===a)&&!this.animating){var t=this,n=t.datepicker.calendarHolder.calendarViews,r="next"===a;(r?t.viewMonth+1>11:t.viewMonth-1<0)&&(t.viewYear+=r?1:-1),t.viewMonth=r?t.viewMonth+1>11?0:t.viewMonth+1:t.viewMonth-1<0?11:t.viewMonth-1,t.animating=!0;var d="dp__animate-"+(r?"left":"right");n.wrapper.find(".dudp__calendar").addClass(d);var o=t.viewYear,s=r?t.viewMonth+1:t.viewMonth-1;(r?s>11:s<0)&&(s=r?0:11,o+=r?1:-1);var l=t.getDates(o,s),c={wrapper:e('<div class="dudp__calendar"></div>'),header:e('<div class="dudp__cal-month-year"></div>'),weekDays:e('<div class="dudp__weekdays">'+i+"</div>"),datesHolder:e('<div class="dudp__dates-holder"></div>')};c.header.text(t.formatDate(new Date(o,s,1),"mmmm yyyy")).appendTo(c.wrapper),c.wrapper.append(c.weekDays),c.datesHolder.html(l).appendTo(c.wrapper),setTimeout(function(){n.wrapper[r?"append":"prepend"](c.wrapper),n.wrapper.find(".dudp__calendar").removeClass(d),n.calendars[r?0:2].wrapper.remove(),n.calendars[r?"shift":"pop"](),n.calendars[r?"push":"unshift"](c),t.animating=!1},250)}},switchView:function(e){if("calendar"===e||"months"===e||"years"===e){var a=this,t=a.datepicker,n=t.calendarHolder.monthsView,r=t.calendarHolder.yearsView,d=t.calendarHolder.calendarViews.wrapper;switch(a.viewMode=e,e){case"calendar":var o=d.find(".dudp__calendar:eq(1)");d.addClass("dp__animate-out").removeClass("dp__hidden"),o.addClass("dp__zooming dp__animate-zoom"),t.calendarHolder.btnPrev.removeClass("dp__hidden"),t.calendarHolder.btnNext.removeClass("dp__hidden"),setTimeout(function(){d.removeClass("dp__animate-out"),o.removeClass("dp__animate-zoom")},10),n.addClass("dp__animate-out"),r.addClass("dp__hidden"),setTimeout(function(){o.removeClass("dp__zooming"),n.addClass("dp__hidden").removeClass("dp__animate-out")},250);break;case"months":t.calendarHolder.btnPrev.addClass("dp__hidden"),t.calendarHolder.btnNext.addClass("dp__hidden"),d.addClass("dp__animate-out"),n.addClass("dp__animate-out").removeClass("dp__hidden"),setTimeout(function(){n.removeClass("dp__animate-out")},10),setTimeout(function(){d.addClass("dp__hidden").removeClass("dp__animate-out")},250);break;case"years":r.html(a.getYears());var i=r.find(".dudp__year.selected");r.scrollTop(i[0].offsetTop-120),t.calendarHolder.btnPrev.addClass("dp__hidden"),t.calendarHolder.btnNext.addClass("dp__hidden"),r.removeClass("dp__hidden"),n.addClass("dp__animate-out"),d.addClass("dp__animate-out"),setTimeout(function(){d.addClass("dp__hidden").removeClass("dp__animate-out"),n.addClass("dp__hidden").removeClass("dp__animate-out")},250)}}},resetSelection:function(){var a=this;if(a.config.range){var t=a.dateFrom?a.dateFrom:new Date;a.rangeFrom=a.dateFrom?{year:a.dateFrom.getFullYear(),month:a.dateFrom.getMonth(),date:a.dateFrom.getDate()}:null,a.rangeTo=a.dateTo?{year:a.dateTo.getFullYear(),month:a.dateTo.getMonth(),date:a.dateTo.getDate()}:null,a.viewYear=t.getFullYear(),a.viewMonth=t.getMonth()}else a.selected={year:a.date.getFullYear(),month:a.date.getMonth(),date:a.date.getDate()},a.viewYear=a.selected.year,a.viewMonth=a.selected.month;a.datepicker.calendarHolder.monthsView.find(".dudp__month").each(function(t,n){var r=e(n).data("month"),d=a.config.range?a.dateFrom?a.dateFrom.getMonth():null:a.selected.month;e(n)[r===d?"addClass":"removeClass"]("selected")})},setSelection:function(){var e=this,a=e.datepicker,t=e.config.range?new Date:new Date(e.selected.year,e.selected.month,e.selected.date);a.header.selectedYear.text(t.getFullYear()),a.header.selectedDate.text(e.formatDate(t,"D, mmm d"))},setValue:function(a){if(void 0===a)throw new Error("Expecting a value.");var t=this,n="string"==typeof a&&""===a,r=null;if(t.config.range){var d=n?[]:a.split(t.config.rangeDelim);if(""!==a&&d.length<2)throw new Error("duDatePicker: Invalid date range value");var o=new Date,i=n?null:t.parseDate(d[0]).date,s=n?null:t.parseDate(d[1]).date,l=n?"":t.formatDate(i,t.config.format),c=n?"":t.formatDate(i,t.config.outFormat||t.config.format),p=n?"":t.formatDate(s,t.config.format),u=n?"":t.formatDate(s,t.config.outFormat||t.config.format),g=n?"":t.config.rangeFormatter?t.config.rangeFormatter.call(t,i,s):d[0]===d[1]?d[0]:a;t.dateFrom=i,t.dateTo=s,t.viewYear=(i||o).getFullYear(),t.viewMonth=(i||o).getMonth(),t.input.val(g).attr("value",g).attr("data-range-from",l).attr("data-range-to",p),t.fromEl&&t.fromEl.val(l).attr("value",l).attr("data-value",c),t.toEl&&t.toEl.val(p).attr("value",p).attr("data-value",u),r={_dateFrom:i,_dateTo:s,dateFrom:l,dateTo:p,value:g}}else{var m="string"==typeof a?t.parseDate(a,t.config.format).date:a,f=t.formatDate(m,t.config.format);t.date=m,t.viewYear=m.getFullYear(),t.viewMonth=m.getMonth(),t.input.val(f).attr("value",f),r={_date:m,date:t.formatDate(t.date,t.config.outFormat||t.config.format)}}t.triggerChange(e.Event("datechanged",r))},triggerChange:function(e){this.input.trigger(e).trigger("onchange").trigger("change")},parseDate:function(a,t){var r=void 0===t?this.config.format:t,d=(r.match(/d/g)||[]).length,o=(r.match(/m/g)||[]).length,i=(r.match(/y/g)||[]).length,s=4===o,l=1===o,c=1===d,p=a.length,u=r.indexOf("m"),g=r.indexOf("d"),m=r.indexOf("y"),f="",v="",h="";if(""===a)return{m:null,d:null,y:null,date:new Date("")};if(s){var w=-1;e.each(n,function(e,t){a.indexOf(t)>=0&&(w=e)}),f=n[w],g=(r=r.replace("mmmm",f)).indexOf("d"),m=m<u?r.indexOf("y"):r.indexOf("y",r.indexOf(f)+f.length)}else if(!c&&!l||c&&!l&&u<g)f=a.substr(u,o);else{var _=r.lastIndexOf("m"),y=r.substring(u-1,u),D=r.substring(_+1,_+2);f=_===r.length-1?a.substring(a.indexOf(y,u-1)+1,p):0===u?a.substring(0,a.indexOf(D,u)):a.substring(a.indexOf(y,u-1)+1,a.indexOf(D,u+1))}if(!c&&!l||!c&&l&&g<u)v=a.substr(g,d);else{var T=r.lastIndexOf("d");y=r.substring(g-1,g),D=r.substring(T+1,T+2);v=T===r.length-1?a.substring(a.indexOf(y,g-1)+1,p):0===g?a.substring(0,a.indexOf(D,g)):a.substring(a.indexOf(y,g-1)+1,a.indexOf(D,g+1))}return!l&&!c||l&&c&&m<u&&m<g||!l&&c&&m<g||l&&!c&&m<u?h=a.substr(m,i):(y=r.substring(m-1,m),h=a.substr(a.indexOf(y,m-1)+1,i)),{m:f,d:v,y:h,date:isNaN(parseInt(f))?new Date(f+" "+v+", "+h):new Date(h,f-1,v)}},formatDate:function(e,a){var t=new Date(e),i=t.getDate(),s=t.getMonth(),l=t.getFullYear();return a.replace(/(yyyy|yy|mmmm|mmm|mm|m|DD|D|dd|d)/g,function(e){switch(e){case"d":return i;case"dd":return i<10?"0"+i:i;case"D":return o[t.getDay()];case"DD":return d[t.getDay()];case"m":return s+1;case"mm":return s+1<10?"0"+(s+1):s+1;case"mmm":return r[s];case"mmmm":return n[s];case"yy":return l.toString().substr(2,2);case"yyyy":return l}})},show:function(){var a=this;e("body").attr("datepicker-display","on"),a.resetSelection(),a.setSelection(),a.setupCalendar(),a.datepicker.container.addClass("dp__open"),a.visible=!0,a.input.blur()},hide:function(){var a=this;a.datepicker.container.addClass("dp__closing"),a.visible=!1,a.input.focus(),e("body").removeAttr("datepicker-display"),setTimeout(function(){a.switchView("calendar"),a.datepicker.container.removeClass("dp__closing dp__open")},200)},destroy:function(){this.unbindInput(),this.datepicker.container.remove()}},e.fn.duDatepicker=function(){var a=arguments,t=a[0];return e(this).each(function(n,r){var d=e(this),o=e(this).data("_duDatepicker"),i=e.extend({},e.fn.duDatepicker.defaults,d.data(),"object"==typeof t&&t);o||d.data("_duDatepicker",o=new l(this,i)),"string"==typeof t&&o[t].apply(o,Array.prototype.slice.call(a).slice(1)),e(document).on("keydown",function(e){27===e.keyCode&&o.visible&&o.hide()})})},e.fn.duDatepicker.defaults={value:null,format:"mm/dd/yyyy",outFormat:null,theme:"blue",auto:!1,clearBtn:!1,cancelBtn:!1,overlayClose:!0,disabledDates:[],disabledDays:[],range:!1,rangeDelim:"-",fromTarget:null,toTarget:null,rangeFormatter:null}});