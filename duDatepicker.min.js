/* -- DO NOT REMOVE --
 * jQuery duDatePicker v1.2 plugin
 * https://github.com/dmuy/duDatepicker
 *
 * Author: Dionlee Uy
 * Email: dionleeuy@gmail.com
 *
 * @requires jQuery
 * -- DO NOT REMOVE --
 */
if("undefined"==typeof jQuery)throw new Error("duDatePicker: This plugin requires jQuery");!function(e){Date.prototype.getDaysCount=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()};var a=["January","February","March","April","May","June","July","August","September","October","November","December"],t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r="<span>"+n.map(function(e){return e.substr(0,2)}).join("</span><span>")+"</span>",s=[9,112,113,114,115,116,117,118,119,120,121,122,123],i="_duDatepicker",l="mmmm yyyy",p=function(a,t){var d=this;d.animating=!1,d.visible=!1,d.input=e(a),d.config=t,d.viewMode="calendar",d.datepicker={container:e('<div class="dcalendarpicker"></div>'),wrapper:e('<div class="dudp__wrapper"></div>'),header:{wrapper:e('<section class="dudp__calendar-header"></section>'),selectedYear:e('<span class="dudp__sel-year"></span>'),selectedDate:e('<span class="dcp_sel-date"></span>')},calendarHolder:{wrapper:e('<section class="dudp__cal-container"></section>'),btnPrev:e('<span class="dudp__btn-cal-prev">&lsaquo;</span>'),btnNext:e('<span class="dudp__btn-cal-next">&rsaquo;</span>'),calendarViews:{wrapper:e('<div class="dudp__calendar-views"></div>'),calendars:[]},yearsView:e('<div class="dudp__years-view dp__hidden"></div>'),monthsView:e('<div class="dudp__months-view dp__hidden"></div>'),buttons:{wrapper:e('<div class="dudp__buttons"></div>'),btnClear:e('<span class="dudp__button clear">Clear</span>'),btnCancel:e('<span class="dudp__button cancel">Cancel</span>'),btnOk:e('<span class="dudp__button ok">Ok</span>')}}},d.date=""===d.input.val()?new Date:d.parseDate(d.input.val()).date,d.selected={year:d.date.getFullYear(),month:d.date.getMonth(),date:d.date.getDate()},d.viewMonth=d.selected.month,d.viewYear=d.selected.year,d.minDate=d.input.data("mindate")||d.config.minDate,d.maxDate=d.input.data("maxdate")||d.config.maxDate,d.rangeFromEl=d.input.data("rangefrom")||d.config.rangeFrom,d.rangeToEl=d.input.data("rangeto")||d.config.rangeTo,d.setupPicker(),d.setSelection()};p.prototype={constructor:p,setupPicker:function(){var a=this,d=a.datepicker,n=d.header,r=d.calendarHolder,i=r.buttons;n.wrapper.append(n.selectedYear).append(n.selectedDate).appendTo(d.wrapper);for(var l=0,p=1;p<4;p++){for(var c=e('<div class="dudp__month-row"></div>'),o=0;o<4;o++){var u=e('<span class="dudp__month"></span>');l===a.selected.month&&u.addClass("selected"),u.text(t[l]).data("month",l).appendTo(c).on("click",function(t){var d=e(this).data("month");a.viewMonth=d,a.setupCalendar(),a.switchView("calendar")}),l++}r.monthsView.append(c)}switch(r.yearsView.html(a.getYears()),a.config.clearBtn&&i.wrapper.append(i.btnClear),a.config.cancelBtn&&i.wrapper.append(i.btnCancel),a.config.auto||i.wrapper.append(i.btnOk),r.wrapper.append(r.btnPrev).append(r.btnNext).append(r.calendarViews.wrapper).append(r.monthsView).append(r.yearsView).append(i.wrapper).appendTo(d.wrapper),d.container.append(d.wrapper).appendTo("body"),a.config.theme){case"red":case"blue":case"green":case"purple":case"indigo":case"teal":d.wrapper.attr("data-theme",a.config.theme);break;default:d.wrapper.attr("data-theme",e.fn.duDatepicker.defaults.theme)}a.input.on("click",function(){a.show()}).on("keydown",function(e){return 13===e.keyCode&&a.show(),!(s.indexOf(e.which)<0)}).prop("readonly",!0),n.selectedYear.click(function(e){"years"!==a.viewMode&&a.switchView("years")}),n.selectedDate.click(function(e){a.viewMonth===a.selected.month&&a.viewYear===a.selected.year&&"calendar"===a.viewMode||(a.viewMonth=a.selected.month,a.viewYear=a.selected.year,a.setupCalendar(),a.switchView("calendar"))}),r.btnPrev.click(function(e){a.move("prev")}),r.btnNext.click(function(e){a.move("next")}),r.calendarViews.wrapper.on("click",".dudp__cal-month-year",function(e){"months"!==a.viewMode&&a.switchView("months")}),a.config.clearBtn&&i.btnClear.click(function(){var t=new Date;a.date=t,a.input.val("").attr("value",""),a.triggerChange(e.Event("datechanged",{date:null})),a.hide()}),a.config.overlayClose&&(d.container.click(function(e){a.hide()}),d.wrapper.click(function(e){e.stopPropagation()})),a.config.cancelBtn&&i.btnCancel.click(function(){a.hide()}),i.btnOk.click(function(){var e=new Date(a.selected.year,a.selected.month,a.selected.date);a.disabledDate(e)||(a.date=e,a.setValue(a.date),a.hide())})},getDates:function(a,t){for(var d=this,n=1,r=new Date,s=new Date(r.getFullYear(),r.getMonth(),r.getDate()),i=new Date(d.selected.year,d.selected.month,d.selected.date),l=new Date(a,t,n),p=l.getDaysCount(),c=1,o=[],u=1;u<=6;u++){for(var h=[e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>')];n<=p;){l.setDate(n);var m=l.getDay();if(h[m].data("date",n).data("month",t).data("year",a),l.getTime()===s.getTime()&&h[m].addClass("current"),d.disabledDate(l)&&h[m].addClass("disabled"),1===u&&0===m)break;if(!(m<6)){l.getTime()===i.getTime()&&h[m].addClass("selected"),h[m].text(n++);break}l.getTime()===i.getTime()&&h[m].addClass("selected"),h[m].text(n++)}if(1===u||u>4)if(1===u)for(var v=new Date(a,t-1,1),_=v.getDaysCount(),w=6;w>=0;w--)""===h[w].text()&&(h[w].data("date",_).data("month",t-1).data("year",a),v.setDate(_),h[w].text(_--).addClass("dudp__pm"),d.disabledDate(v)&&h[w].addClass("disabled"),v.getTime()===i.getTime()&&h[w].addClass("selected"),v.getTime()===s.getTime()&&h[w].addClass("current"));else if(u>4){var f=new Date(a,t+1,1);for(w=0;w<=6;w++)""===h[w].text()&&(h[w].data("date",c).data("month",t+1).data("year",a),f.setDate(c),h[w].text(c++).addClass("dudp__nm"),d.disabledDate(f)&&h[w].addClass("disabled"),f.getTime()===i.getTime()&&h[w].addClass("selected"),f.getTime()===s.getTime()&&h[w].addClass("current"))}o.push(h)}var g=[];return e.each(o,function(a,t){for(var n=e('<div class="dudp__cal-week"></div>'),r=0;r<t.length;r++){var s=t[r];s.click(function(a){var t=e(this),n=t.data("year"),r=t.data("month"),s=t.data("date"),i=new Date(n,r,s);d.disabledDate(i)||(t.parents(".dudp__calendar-views").find(".dudp__date").each(function(a,t){var d=e(t).data("year"),i=e(t).data("month"),l=e(t).data("date");e(t)[n===d&&r===i&&s===l?"addClass":"removeClass"]("selected")}),t.parents(".dudp__cal-container").find(".dudp__month").each(function(a,t){var d=e(t).data("month");e(t)[d===r?"addClass":"removeClass"]("selected")}),t.addClass("selected"),d.selected={year:n,month:r,date:s},d.setSelection(),d.config.auto&&(d.date=i,d.setValue(d.date),d.hide()))}),n.append(s)}g.push(n)}),g},getYears:function(){for(var a=this,t=a.viewYear-100,d=a.viewYear+100,n=[],r=t;r<=d;r++){var s=e('<span class="dudp__year"></span>');r===a.viewYear&&s.addClass("selected"),s.text(r).data("year",r).on("click",function(t){var d=e(this).data("year");a.viewYear=d,a.selected.year=d,a.setSelection(),a.setupCalendar(),a.switchView("calendar")}),n.push(s)}return n},setupCalendar:function(){var a=this,t=a.datepicker.calendarHolder.calendarViews,d=a.viewYear,n=a.viewMonth;t.calendars.length=0;var s={wrapper:e('<div class="dudp__calendar"></div>'),header:e('<div class="dudp__cal-month-year"></div>'),weekDays:e('<div class="dudp__weekdays">'+r+"</div>"),datesHolder:e('<div class="dudp__dates-holder"></div>')},i={wrapper:e('<div class="dudp__calendar"></div>'),header:e('<div class="dudp__cal-month-year"></div>'),weekDays:e('<div class="dudp__weekdays">'+r+"</div>"),datesHolder:e('<div class="dudp__dates-holder"></div>')},p={wrapper:e('<div class="dudp__calendar"></div>'),header:e('<div class="dudp__cal-month-year"></div>'),weekDays:e('<div class="dudp__weekdays">'+r+"</div>"),datesHolder:e('<div class="dudp__dates-holder"></div>')};i.header.text(a.formatDate(new Date(d,n-1,1),l)).appendTo(i.wrapper),i.wrapper.append(i.weekDays),i.datesHolder.html(a.getDates(d,n-1)).appendTo(i.wrapper),t.calendars.push(i),s.header.text(a.formatDate(new Date(d,n,1),l)).appendTo(s.wrapper),s.wrapper.append(s.weekDays),s.datesHolder.html(a.getDates(d,n)).appendTo(s.wrapper),t.calendars.push(s),p.header.text(a.formatDate(new Date(d,n+1,1),l)).appendTo(p.wrapper),p.wrapper.append(p.weekDays),p.datesHolder.html(a.getDates(d,n+1)).appendTo(p.wrapper),t.calendars.push(p),t.wrapper.empty().append(i.wrapper).append(s.wrapper).append(p.wrapper)},move:function(a){if(("next"===a||"prev"===a)&&!this.animating){var t=this,d=t.datepicker.calendarHolder.calendarViews,n="next"===a;(n?t.viewMonth+1>11:t.viewMonth-1<0)&&(t.viewYear+=n?1:-1),t.viewMonth=n?t.viewMonth+1>11?0:t.viewMonth+1:t.viewMonth-1<0?11:t.viewMonth-1,t.animating=!0;var s="dp__animate-"+(n?"left":"right");d.wrapper.find(".dudp__calendar").addClass(s);var i=t.viewYear,p=n?t.viewMonth+1:t.viewMonth-1;(n?p>11:p<0)&&(p=n?0:11,i+=n?1:-1);var c=t.getDates(i,p),o={wrapper:e('<div class="dudp__calendar"></div>'),header:e('<div class="dudp__cal-month-year"></div>'),weekDays:e('<div class="dudp__weekdays">'+r+"</div>"),datesHolder:e('<div class="dudp__dates-holder"></div>')};o.header.text(t.formatDate(new Date(i,p,1),l)).appendTo(o.wrapper),o.wrapper.append(o.weekDays),o.datesHolder.html(c).appendTo(o.wrapper),setTimeout(function(){d.wrapper[n?"append":"prepend"](o.wrapper),d.wrapper.find(".dudp__calendar").removeClass(s),d.calendars[n?0:2].wrapper.remove(),d.calendars[n?"shift":"pop"](),d.calendars[n?"push":"unshift"](o),t.animating=!1},250)}},switchView:function(e){if("calendar"===e||"months"===e||"years"===e){var a=this.datepicker,t=a.calendarHolder.monthsView,d=a.calendarHolder.yearsView,n=a.calendarHolder.calendarViews.wrapper;switch(this.viewMode=e,e){case"calendar":n.addClass("dp__animate-out").removeClass("dp__hidden"),a.calendarHolder.btnPrev.removeClass("dp__hidden"),a.calendarHolder.btnNext.removeClass("dp__hidden"),setTimeout(function(){n.removeClass("dp__animate-out")},10),t.addClass("dp__animate-out"),d.addClass("dp__hidden"),setTimeout(function(){t.addClass("dp__hidden").removeClass("dp__animate-out")},250);break;case"months":a.calendarHolder.btnPrev.addClass("dp__hidden"),a.calendarHolder.btnNext.addClass("dp__hidden"),n.addClass("dp__animate-out"),t.addClass("dp__animate-out").removeClass("dp__hidden"),setTimeout(function(){t.removeClass("dp__animate-out")},10),setTimeout(function(){n.addClass("dp__hidden").removeClass("dp__animate-out")},250);break;case"years":d.html(this.getYears());var r=d.find(".dudp__year.selected");d.scrollTop(r[0].offsetTop-120),a.calendarHolder.btnPrev.addClass("dp__hidden"),a.calendarHolder.btnNext.addClass("dp__hidden"),t.addClass("dp__animate-out"),n.addClass("dp__animate-out"),d.removeClass("dp__hidden"),setTimeout(function(){n.addClass("dp__hidden").removeClass("dp__animate-out"),t.addClass("dp__hidden").removeClass("dp__animate-out")},250)}}},resetSelection:function(){var a=this;a.selected={year:a.date.getFullYear(),month:a.date.getMonth(),date:a.date.getDate()},a.viewYear=a.selected.year,a.viewMonth=a.selected.month,a.datepicker.calendarHolder.monthsView.find(".dudp__month").each(function(t,d){var n=e(d).data("month");e(d)[n===a.selected.month?"addClass":"removeClass"]("selected")})},setSelection:function(){var e=this,a=e.datepicker,t=new Date(e.selected.year,e.selected.month,e.selected.date);a.header.selectedYear.text(t.getFullYear()),a.header.selectedDate.text(e.formatDate(t,"D, mmm d"))},setValue:function(a){if(void 0===a)throw new Error("Expecting a value.");var t="string"==typeof a?this.parseDate(a,this.config.format):a,d=this.formatDate(t,this.config.format);this.date=t,this.viewYear=t.getFullYear(),this.viewMonth=t.getMonth(),this.input.val(d).attr("value",d),this.triggerChange(e.Event("datechanged",{date:this.formatDate(this.date,this.config.format)}))},triggerChange:function(e){this.input.trigger(e).trigger("onchange").trigger("change")},parseDate:function(t,d){var n=void 0===d?this.config.format:d,r=(n.match(/d/g)||[]).length,s=(n.match(/m/g)||[]).length,i=(n.match(/y/g)||[]).length,l=4===s,p=1===s,c=1===r,o=t.length,u=n.indexOf("m"),h=n.indexOf("d"),m=n.indexOf("y"),v="",_="",w="";if(""===t)return{m:null,d:null,y:null,date:new Date("")};if(l){var f=-1;e.each(a,function(e,a){t.indexOf(a)>=0&&(f=e)}),v=a[f],h=(n=n.replace("mmmm",v)).indexOf("d"),m=m<u?n.indexOf("y"):n.indexOf("y",n.indexOf(v)+v.length)}else if(!c&&!p||c&&!p&&u<h)v=t.substr(u,s);else{var g=n.lastIndexOf("m"),y=n.substring(u-1,u),D=n.substring(g+1,g+2);v=g===n.length-1?t.substring(t.indexOf(y,u-1)+1,o):0===u?t.substring(0,t.indexOf(D,u)):t.substring(t.indexOf(y,u-1)+1,t.indexOf(D,u+1))}if(!c&&!p||!c&&p&&h<u)_=t.substr(h,r);else{var b=n.lastIndexOf("d");y=n.substring(h-1,h),D=n.substring(b+1,b+2);_=b===n.length-1?t.substring(t.indexOf(y,h-1)+1,o):0===h?t.substring(0,t.indexOf(D,h)):t.substring(t.indexOf(y,h-1)+1,t.indexOf(D,h+1))}return!p&&!c||p&&c&&m<u&&m<h||!p&&c&&m<h||p&&!c&&m<u?w=t.substr(m,i):(y=n.substring(m-1,m),w=t.substr(t.indexOf(y,m-1)+1,i)),{m:v,d:_,y:w,date:isNaN(parseInt(v))?new Date(v+" "+_+", "+w):new Date(w,v-1,_)}},formatDate:function(e,r){var s=new Date(e),i=s.getDate(),l=s.getMonth(),p=s.getFullYear();return r.replace(/(yyyy|yy|mmmm|mmm|mm|m|DD|D|dd|d)/g,function(e){switch(e){case"d":return i;case"dd":return i<10?"0"+i:i;case"D":return n[s.getDay()];case"DD":return d[s.getDay()];case"m":return l+1;case"mm":return l+1<10?"0"+(l+1):l+1;case"mmm":return t[l];case"mmmm":return a[l];case"yy":return p.toString().substr(2,2);case"yyyy":return p}})},disabledDate:function(a){var t=this,r=null,s=null,l=null,p=null,c=null,o=null,u=new Date,h=new Date(u.getFullYear(),u.getMonth(),u.getDate()),m=t.config.disabledDates,v=t.config.disabledDays,_=m.filter(function(e){return e.indexOf("-")>=0?a>=t.parseDate(e.split("-")[0]).date&&a<=t.parseDate(e.split("-")[1]).date:t.parseDate(e).date.getTime()===a.getTime()}).length>0,w=v.indexOf(d[a.getDay()])>=0||v.indexOf(n[a.getDay()])>=0||v.indexOf(n.map(function(e){return e.substr(0,2)})[a.getDay()])>=0;if(t.minDate&&(c="today"===t.minDate?h:new Date(t.minDate)),t.maxDate&&(o="today"===t.maxDate?h:new Date(t.maxDate)),t.rangeFromEl){var f=e(t.rangeFromEl),g=f.data(i),y=g.config.format,D=f.val();r=t.parseDate(D,y).date,l="today"===g.minDate?h:new Date(g.minDate)}if(t.rangeToEl){var b=e(t.rangeToEl),C=b.data(i),k=C.config.format,x=b.val();s=t.parseDate(x,k).date,p="today"===C.maxDate?h:new Date(C.maxDate)}return c&&a<c||o&&a>o||r&&a<r||s&&a>s||l&&a<l||p&&a>p||_||w},show:function(){var a=this;e("body").attr("datepicker-display","on"),a.resetSelection(),a.setSelection(),a.setupCalendar(),a.datepicker.container.addClass("dp__open"),a.visible=!0,a.input.blur()},hide:function(){var a=this;a.datepicker.container.addClass("dp__closing"),a.switchView("calendar"),a.visible=!1,a.input.focus(),e("body").removeAttr("datepicker-display"),setTimeout(function(){a.datepicker.container.removeClass("dp__closing dp__open")},200)},destroy:function(){this.input.removeData(i).unbind("keydown").unbind("click").removeProp("readonly"),this.datepicker.container.remove()}},e.fn.duDatepicker=function(a){return e(this).each(function(t,d){var n=e(this),r=e(this).data(i),s=e.extend({},e.fn.duDatepicker.defaults,n.data(),"object"==typeof a&&a);r||n.data(i,r=new p(this,s)),"string"==typeof a&&r[a](),e(document).on("keydown",function(e){27===e.keyCode&&r.visible&&r.hide()})})},e.fn.duDatepicker.defaults={format:"mm/dd/yyyy",theme:"blue",auto:!1,clearBtn:!1,cancelBtn:!1,overlayClose:!0,disabledDates:[],disabledDays:[]}}(jQuery);