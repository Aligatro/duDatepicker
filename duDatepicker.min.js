/* -- DO NOT REMOVE --
 * jQuery duDatePicker v1.0 plugin
 * https://github.com/dmuy/duDatepicker
 *
 * Author: Dionlee Uy
 * Email: dionleeuy@gmail.com
 * Date: Monday, Sept 4 2017
 *
 * @requires jQuery
 * -- DO NOT REMOVE --
 */
if("undefined"==typeof jQuery)throw new Error("duDatePicker: This plugin requires jQuery");+function(e){Date.prototype.getDaysCount=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()};var a=["January","February","March","April","May","June","July","August","September","October","November","December"],t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s="<span>"+n.map(function(e){return e.substr(0,2)}).join("</span><span>")+"</span>",r=[9,112,113,114,115,116,117,118,119,120,121,122,123],i="_duDatepicker",p="D, mmm d",l="mmmm yyyy",c=function(a,t){var d=this;this.animating=!1,this.visible=!1,this.input=e(a),this.config=t,this.viewMode="calendar",this.datepicker={container:e('<div class="dcalendarpicker dp__hidden"></div>'),wrapper:e('<div class="dudp__wrapper"></div>'),header:{wrapper:e('<section class="dudp__calendar-header"></section>'),selectedYear:e('<span class="dudp__sel-year"></span>'),selectedDate:e('<span class="dcp_sel-date"></span>')},calendarHolder:{wrapper:e('<section class="dudp__cal-container"></section>'),btnPrev:e('<span class="dudp__btn-cal-prev">&lsaquo;</span>'),btnNext:e('<span class="dudp__btn-cal-next">&rsaquo;</span>'),calendarViews:{wrapper:e('<div class="dudp__calendar-views"></div>'),calendars:[]},yearsView:e('<div class="dudp__years-view dp__hidden"></div>'),monthsView:e('<div class="dudp__months-view dp__hidden"></div>'),buttons:{wrapper:e('<div class="dudp__buttons"></div>'),btnClear:e('<span class="dudp__button clear">Clear</span>'),btnCancel:e('<span class="dudp__button cancel">Cancel</span>'),btnOk:e('<span class="dudp__button ok">Ok</span>')}}},this.date=""===this.input.val()?new Date:this.parseDate(this.input.val()).date,this.selected={year:d.date.getFullYear(),month:d.date.getMonth(),date:d.date.getDate()},this.viewMonth=this.selected.month,this.viewYear=this.selected.year,this.minDate=this.input.data("mindate")||this.config.minDate,this.maxDate=this.input.data("maxdate")||this.config.maxDate,this.rangeFromEl=this.input.data("rangefrom")||this.config.rangeFrom,this.rangeToEl=this.input.data("rangeto")||this.config.rangeTo,d.setupPicker(),d.setSelection()};c.prototype={constructor:c,setupPicker:function(){var a=this,d=a.datepicker,n=d.header,s=d.calendarHolder,i=s.buttons;n.wrapper.append(n.selectedYear).append(n.selectedDate).appendTo(d.wrapper);for(var p=0,l=1;4>l;l++){for(var c=e('<div class="dudp__month-row"></div>'),o=0;4>o;o++){var u=e('<span class="dudp__month"></span>');p===a.selected.month&&u.addClass("selected"),u.text(t[p]).data("month",p).appendTo(c).on("click",function(){var t=e(this),d=t.data("month");a.viewMonth=d,a.setupCalendar(),a.switchView("calendar")}),p++}s.monthsView.append(c)}switch(s.yearsView.html(a.getYears()),a.config.clearBtn&&i.wrapper.append(i.btnClear),a.config.cancelBtn&&i.wrapper.append(i.btnCancel),i.wrapper.append(i.btnOk),s.wrapper.append(s.btnPrev).append(s.btnNext).append(s.calendarViews.wrapper).append(s.monthsView).append(s.yearsView).append(i.wrapper).appendTo(d.wrapper),d.container.append(d.wrapper).appendTo("body"),a.config.theme){case"red":case"blue":case"green":case"purple":case"indigo":case"teal":d.wrapper.attr("data-theme",a.config.theme);break;default:d.wrapper.attr("data-theme",e.fn.duDatepicker.defaults.theme)}a.input.on("click",function(){a.show()}).on("keydown",function(e){return 13===e.keyCode&&a.show(),!(r.indexOf(e.which)<0&&a.config.readOnly)}).prop("readonly",a.config.readOnly),n.selectedYear.click(function(){"years"!==a.viewMode&&a.switchView("years")}),n.selectedDate.click(function(){"calendar"!==a.viewMode&&(a.viewMonth=a.selected.month,a.setupCalendar(),a.switchView("calendar"))}),s.btnPrev.click(function(){a.move("prev")}),s.btnNext.click(function(){a.move("next")}),s.calendarViews.wrapper.on("click",".dudp__cal-month-year",function(){"months"!==a.viewMode&&a.switchView("months")}),a.config.clearBtn&&i.btnClear.click(function(){var t=new Date;a.date=t,a.input.val("").attr("value",""),a.triggerChange(e.Event("datechanged",{date:null})),a.hide()}),a.config.overlayClose&&(d.container.click(function(){a.hide()}),d.wrapper.click(function(e){e.stopPropagation()})),a.config.cancelBtn&&i.btnCancel.click(function(){a.hide()}),i.btnOk.click(function(){var e=new Date(a.selected.year,a.selected.month,a.selected.date);a.disabledDate(e)||(a.date=e,a.setValue(a.date),a.hide())})},getDates:function(a,t){for(var d=this,n=1,s=new Date,r=new Date(s.getFullYear(),s.getMonth(),s.getDate()),i=new Date(d.selected.year,d.selected.month,d.selected.date),p=new Date(a,t,n),l=p.getDaysCount(),c=1,o=[],u=1;6>=u;u++){for(var h=[e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>'),e('<span class="dudp__date"></span>')];l>=n;){p.setDate(n);var m=p.getDay();if(h[m].data("date",n).data("month",t).data("year",a),p.getTime()===r.getTime()&&h[m].addClass("current"),d.disabledDate(p)&&h[m].addClass("disabled"),1===u&&0===m)break;if(!(6>m)){p.getTime()===i.getTime()&&h[m].addClass("selected"),h[m].text(n++);break}p.getTime()===i.getTime()&&h[m].addClass("selected"),h[m].text(n++)}if(1===u||u>4)if(1===u)for(var v=new Date(a,t-1,1),_=v.getDaysCount(),w=6;w>=0;w--)""===h[w].text()&&(h[w].data("date",_).data("month",t-1).data("year",a),v.setDate(_),h[w].text(_--).addClass("dudp__pm"),d.disabledDate(v)&&h[w].addClass("disabled"),v.getTime()===i.getTime()&&h[w].addClass("selected"),v.getTime()===r.getTime()&&h[w].addClass("current"));else if(u>4)for(var f=new Date(a,t+1,1),w=0;6>=w;w++)""===h[w].text()&&(h[w].data("date",c).data("month",t+1).data("year",a),f.setDate(c),h[w].text(c++).addClass("dudp__nm"),d.disabledDate(f)&&h[w].addClass("disabled"),f.getTime()===i.getTime()&&h[w].addClass("selected"),f.getTime()===r.getTime()&&h[w].addClass("current"));o.push(h)}var g=[];return e.each(o,function(a,t){for(var n=e('<div class="dudp__cal-week"></div>'),s=0;s<t.length;s++){var r=t[s];r.click(function(){var a=e(this),t=a.data("year"),n=a.data("month"),s=a.data("date"),r=new Date(t,n,s);d.disabledDate(r)||(a.parents(".dudp__calendar-views").find(".dudp__date").each(function(a,d){var r=e(d).data("year"),i=e(d).data("month"),p=e(d).data("date");e(d)[t===r&&n===i&&s===p?"addClass":"removeClass"]("selected")}),a.parents(".dudp__cal-container").find(".dudp__month").each(function(a,t){var d=e(t).data("month");e(t)[d===n?"addClass":"removeClass"]("selected")}),a.addClass("selected"),d.selected={year:t,month:n,date:s},d.setSelection())}),n.append(r)}g.push(n)}),g},getYears:function(){for(var a=this,t=a.viewYear-100,d=a.viewYear+100,n=[],s=t;d>=s;s++){var r=e('<span class="dudp__year"></span>');s===a.viewYear&&r.addClass("selected"),r.text(s).data("year",s).on("click",function(){var t=e(this),d=t.data("year");a.viewYear=d,a.selected.year=d,a.setSelection(),a.setupCalendar(),a.switchView("calendar")}),n.push(r)}return n},setupCalendar:function(){var a=this,t=a.datepicker.calendarHolder.calendarViews,d=a.viewYear,n=a.viewMonth;t.calendars.length=0;var r={wrapper:e('<div class="dudp__calendar"></div>'),header:e('<div class="dudp__cal-month-year"></div>'),weekDays:e('<div class="dudp__weekdays">'+s+"</div>"),datesHolder:e('<div class="dudp__dates-holder"></div>')},i={wrapper:e('<div class="dudp__calendar"></div>'),header:e('<div class="dudp__cal-month-year"></div>'),weekDays:e('<div class="dudp__weekdays">'+s+"</div>"),datesHolder:e('<div class="dudp__dates-holder"></div>')},p={wrapper:e('<div class="dudp__calendar"></div>'),header:e('<div class="dudp__cal-month-year"></div>'),weekDays:e('<div class="dudp__weekdays">'+s+"</div>"),datesHolder:e('<div class="dudp__dates-holder"></div>')};i.header.text(a.formatDate(new Date(d,n-1,1),l)).appendTo(i.wrapper),i.wrapper.append(i.weekDays),i.datesHolder.html(a.getDates(d,n-1)).appendTo(i.wrapper),t.calendars.push(i),r.header.text(a.formatDate(new Date(d,n,1),l)).appendTo(r.wrapper),r.wrapper.append(r.weekDays),r.datesHolder.html(a.getDates(d,n)).appendTo(r.wrapper),t.calendars.push(r),p.header.text(a.formatDate(new Date(d,n+1,1),l)).appendTo(p.wrapper),p.wrapper.append(p.weekDays),p.datesHolder.html(a.getDates(d,n+1)).appendTo(p.wrapper),t.calendars.push(p),t.wrapper.empty().append(i.wrapper).append(r.wrapper).append(p.wrapper)},move:function(a){if(("next"===a||"prev"===a)&&!this.animating){var t=this,d=t.datepicker,n=d.calendarHolder.calendarViews,r=250,i="next"===a;(i?t.viewMonth+1>11:t.viewMonth-1<0)&&(t.viewYear+=i?1:-1),t.viewMonth=i?t.viewMonth+1>11?0:t.viewMonth+1:t.viewMonth-1<0?11:t.viewMonth-1,t.animating=!0;var p="dp__animate-"+(i?"left":"right");n.wrapper.find(".dudp__calendar").addClass(p);var c=t.viewYear,o=i?t.viewMonth+1:t.viewMonth-1;(i?o>11:0>o)&&(o=i?0:11,c+=i?1:-1);var u=t.getDates(c,o),h={wrapper:e('<div class="dudp__calendar"></div>'),header:e('<div class="dudp__cal-month-year"></div>'),weekDays:e('<div class="dudp__weekdays">'+s+"</div>"),datesHolder:e('<div class="dudp__dates-holder"></div>')};h.header.text(t.formatDate(new Date(c,o,1),l)).appendTo(h.wrapper),h.wrapper.append(h.weekDays),h.datesHolder.html(u).appendTo(h.wrapper),setTimeout(function(){n.wrapper[i?"append":"prepend"](h.wrapper),n.wrapper.find(".dudp__calendar").removeClass(p),n.calendars[i?0:2].wrapper.remove(),n.calendars[i?"shift":"pop"](),n.calendars[i?"push":"unshift"](h),t.animating=!1},r)}},switchView:function(e){if("calendar"===e||"months"===e||"years"===e){var a=this,t=a.datepicker,d=t.calendarHolder.monthsView,n=t.calendarHolder.yearsView,s=t.calendarHolder.calendarViews.wrapper,r=250;switch(a.viewMode=e,e){case"calendar":s.addClass("dp__animate-out").removeClass("dp__hidden"),t.calendarHolder.btnPrev.removeClass("dp__hidden"),t.calendarHolder.btnNext.removeClass("dp__hidden"),setTimeout(function(){s.removeClass("dp__animate-out")},10),d.addClass("dp__animate-out"),n.addClass("dp__hidden"),setTimeout(function(){d.addClass("dp__hidden").removeClass("dp__animate-out")},r);break;case"months":t.calendarHolder.btnPrev.addClass("dp__hidden"),t.calendarHolder.btnNext.addClass("dp__hidden"),s.addClass("dp__animate-out"),d.addClass("dp__animate-out").removeClass("dp__hidden"),setTimeout(function(){d.removeClass("dp__animate-out")},10),setTimeout(function(){s.addClass("dp__hidden").removeClass("dp__animate-out")},r);break;case"years":n.html(a.getYears());var i=n.find(".dudp__year.selected");n.scrollTop(i[0].offsetTop-120),t.calendarHolder.btnPrev.addClass("dp__hidden"),t.calendarHolder.btnNext.addClass("dp__hidden"),d.addClass("dp__animate-out"),s.addClass("dp__animate-out"),n.removeClass("dp__hidden"),setTimeout(function(){s.addClass("dp__hidden").removeClass("dp__animate-out"),d.addClass("dp__hidden").removeClass("dp__animate-out")},r)}}},resetSelection:function(){var a=this;a.selected={year:a.date.getFullYear(),month:a.date.getMonth(),date:a.date.getDate()},a.viewYear=a.selected.year,a.viewMonth=a.selected.month,a.datepicker.calendarHolder.monthsView.find(".dudp__month").each(function(t,d){var n=e(d).data("month");e(d)[n===a.selected.month?"addClass":"removeClass"]("selected")})},setSelection:function(){var e=this,a=e.datepicker,t=new Date(e.selected.year,e.selected.month,e.selected.date);a.header.selectedYear.text(t.getFullYear()),a.header.selectedDate.text(e.formatDate(t,p))},setValue:function(a){if("undefined"==typeof a)throw new Error("Expecting a value.");var t="string"==typeof a?this.parseDate(a,this.config.format):a,d=this.formatDate(t,this.config.format);this.date=t,this.viewYear=t.getFullYear(),this.viewMonth=t.getMonth(),this.input.val(d).attr("value",d),this.triggerChange(e.Event("datechanged",{date:this.formatDate(this.date,this.config.format)}))},triggerChange:function(e){this.input.trigger(e).trigger("onchange")},parseDate:function(t,d){var n=this,s="undefined"==typeof d?n.config.format:d,r=(s.match(/d/g)||[]).length,i=(s.match(/m/g)||[]).length,p=(s.match(/y/g)||[]).length,l=4===i,c=1===i,o=1===r,u=t.length,h=s.indexOf("m"),m=s.indexOf("d"),v=s.indexOf("y"),_="",w="",f="";if(""===t)return{m:null,d:null,y:null,date:new Date("")};if(l){var g=-1;e.each(a,function(e,a){t.indexOf(a)>=0&&(g=e)}),_=a[g],s=s.replace("mmmm",_),m=s.indexOf("d"),v=h>v?s.indexOf("y"):s.indexOf("y",s.indexOf(_)+_.length)}else if(!o&&!c||o&&!c&&m>h)_=t.substr(h,i);else{var y=s.lastIndexOf("m"),D=s.substring(h-1,h),C=s.substring(y+1,y+2);_=y===s.length-1?t.substring(t.indexOf(D,h-1)+1,u):0===h?t.substring(0,t.indexOf(C,h)):t.substring(t.indexOf(D,h-1)+1,t.indexOf(C,h+1))}if(!o&&!c||!o&&c&&h>m)w=t.substr(m,r);else{var b=s.lastIndexOf("d"),D=s.substring(m-1,m),C=s.substring(b+1,b+2);w=b===s.length-1?t.substring(t.indexOf(D,m-1)+1,u):0===m?t.substring(0,t.indexOf(C,m)):t.substring(t.indexOf(D,m-1)+1,t.indexOf(C,m+1))}return!c&&!o||c&&o&&h>v&&m>v||!c&&o&&m>v||c&&!o&&h>v?f=t.substr(v,p):(D=s.substring(v-1,v),f=t.substr(t.indexOf(D,v-1)+1,p)),{m:_,d:w,y:f,date:isNaN(parseInt(_))?new Date(_+" "+w+", "+f):new Date(f,_-1,w)}},formatDate:function(e,s){var r=new Date(e),i=r.getDate(),p=r.getMonth(),l=r.getFullYear();return s.replace(/(yyyy|yy|mmmm|mmm|mm|m|DD|D|dd|d)/g,function(e){switch(e){case"d":return i;case"dd":return 10>i?"0"+i:i;case"D":return n[r.getDay()];case"DD":return d[r.getDay()];case"m":return p+1;case"mm":return 10>p+1?"0"+(p+1):p+1;case"mmm":return t[p];case"mmmm":return a[p];case"yy":return l.toString().substr(2,2);case"yyyy":return l}})},disabledDate:function(a){var t=this,d=null,n=null,s=null,r=null,p=null,l=null,c=new Date,o=new Date(c.getFullYear(),c.getMonth(),c.getDate());if(t.minDate&&(p="today"===t.minDate?o:new Date(t.minDate)),t.maxDate&&(l="today"===t.maxDate?o:new Date(t.maxDate)),t.rangeFromEl){var u=e(t.rangeFromEl),h=u.data(i),m=h.config.format,v=u.val();d=t.parseDate(v,m).date,s="today"===h.minDate?o:new Date(h.minDate)}if(t.rangeToEl){var _=e(t.rangeToEl),w=_.data(i),f=w.config.format,g=_.val();n=t.parseDate(g,f).date,r="today"===w.maxDate?o:new Date(w.maxDate)}return p&&p>a||l&&a>l||d&&d>a||n&&a>n||s&&s>a||r&&a>r},show:function(){var a=this;a.resetSelection(),a.setSelection(),a.setupCalendar(),e("body").attr("datepicker-display","on"),a.datepicker.wrapper.addClass("dp__animate"),a.datepicker.container.removeClass("dp__hidden").addClass("dp__animate"),setTimeout(function(){a.datepicker.container.removeClass("dp__animate"),a.datepicker.wrapper.removeClass("dp__animate"),a.visible=!0,a.input.blur()},10)},hide:function(){var a=this;a.datepicker.container.addClass("dp__animate"),a.datepicker.wrapper.addClass("dp__animate"),setTimeout(function(){a.datepicker.container.addClass("dp__hidden").removeClass("dp__animate"),a.datepicker.wrapper.removeClass("dp__animate"),a.switchView("calendar"),e("body").removeAttr("datepicker-display"),a.visible=!1,a.input.focus()},300)},destroy:function(){var e=this;e.input.removeData(i).unbind("keydown").unbind("click").removeProp("readonly"),e.datepicker.container.remove()}},e.fn.duDatepicker=function(a){return e(this).each(function(){var t=this,d=e(this),n=e(this).data(i),s=e.extend({},e.fn.duDatepicker.defaults,d.data(),"object"==typeof a&&a);n||d.data(i,n=new c(t,s)),"string"==typeof a&&n[a](),e(document).on("keydown",function(e){27===e.keyCode&&n.visible&&n.hide()})})},e.fn.duDatepicker.defaults={format:"mm/dd/yyyy",theme:"blue",readOnly:!0,clearBtn:!1,cancelBtn:!1,overlayClose:!0}}(jQuery);